!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("lodash"),require("rxjs/operators"),require("rxjs"),require("@angular/common/http"),require("@angular/core")):"function"==typeof define&&define.amd?define("veritas-library",["exports","@angular/common","lodash","rxjs/operators","rxjs","@angular/common/http","@angular/core"],t):t(e["veritas-library"]={},e.ng.common,e._,e.rxjs.operators,e.rxjs,e.ng.common.http,e.ng.core)}(this,function(o,t,i,s,n,a,r){"use strict";var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function c(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return s}function l(e){return e&&e.previousValue!==e.currentValue}var e,d,f,h,y,m,g,I,v,C=function(){function e(){this.splitKey=" "}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(e){l(e.name)&&this.setInitial()},e.prototype.setInitial=function(){var e=this.name.split(this.splitKey);this.initial=1<e.length?this.getInitial(e):this.name},e.prototype.getInitial=function(e){return""+this.getWordByIndex(e,0)+this.getWordByIndex(e,1)},e.prototype.getWordByIndex=function(e,t){return e[t][0].toLocaleUpperCase()},e.decorators=[{type:r.Component,args:[{selector:"ta-initial-indicator",template:'<div class="circle-indicator d-flex align-items-center justify-content-center">\r\n  {{ initial }}\r\n</div>\r\n',changeDetection:r.ChangeDetectionStrategy.OnPush,styles:[".card{box-shadow:0 1px 4px 0 rgba(0,0,0,.15)}.card .card-header{font-size:.875rem}button,input,textarea{outline:0!important;box-shadow:none!important}strong{font-weight:500}input::-ms-clear{display:none;width:0;height:0}input::-ms-reveal{display:none;width:0;height:0}input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none}:host{display:flex}:host .circle-indicator{height:24px;width:24px;border-radius:50%;border:1px solid #ffddd5;background-color:#ffeeea;color:#99331c;font-size:.625rem;font-weight:600}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={name:[{type:r.Input}]},e}(),R=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{declarations:[C],imports:[t.CommonModule],exports:[C]}]}],e}(),E="VERITAS_API_PROXY_PREFIX_URL";(e=o.CommentEntityTypeEnum||(o.CommentEntityTypeEnum={})).Question="QUESTION",e.Task="TASK",(d=o.TaskStatusEnum||(o.TaskStatusEnum={})).Open="OPEN",d.InProgress="IN_PROGRESS",d.InReview="IN_REVIEW",d.Closed="CLOSED",d.ActionRequired="ACTION_REQUIRED",(f=o.TaskStatusEnum||(o.TaskStatusEnum={})).getDisplayText=function V(e){var t="";switch(e){case f.Open:t="Open";break;case f.InProgress:t="In Progress";break;case f.InReview:t="In Review";break;case f.Closed:t="Closed";break;case f.ActionRequired:t="Action Required"}return t},(h=o.RespondentTypeEnum||(o.RespondentTypeEnum={})).Reviewer="REVIEWER",h.RemediationTaskReviewer="REMEDIATION_TASK_REVIEWER",h.PrivacyTeam="PRIVACY_TEAM",h.BusinessOwner="BUSINESS_OWNER",h.VendorContact="VENDOR_CONTACT",h.HumanResourcesTeam="HUMAN_RESOURCES_TEAM",h.ItSecurityTeam="IT_SECURITY_TEAM",h.Other="OTHER",(y=o.RespondentTypeEnum||(o.RespondentTypeEnum={})).getDisplayText=function M(e){var t="";switch(e){case y.Reviewer:t="Reviewer";break;case y.RemediationTaskReviewer:t="Remediation Task Reviewer";break;case y.PrivacyTeam:t="Privacy Team";break;case y.BusinessOwner:t="Business Owner";break;case y.VendorContact:t="Vendor Contact";break;case y.HumanResourcesTeam:t="Human Resources Team";break;case y.ItSecurityTeam:t="IT/Security Team";break;case y.Other:t="Other";break;default:t=e}return t},(m=o.QuestionTypeEnum||(o.QuestionTypeEnum={})).SingleSelect="SINGLE_SELECT",m.MultiSelect="MULTI_SELECT",m.Text="TEXT",(g=o.QuestionSingleSelectUiTypeEnum||(o.QuestionSingleSelectUiTypeEnum={})).Horizontal="HORIZONTAL",g.Vertical="VERTICAL",g.Slider="SLIDER",(I=o.QuestionMultiSelectUiTypeEnum||(o.QuestionMultiSelectUiTypeEnum={})).Horizontal="HORIZONTAL",I.Vertical="VERTICAL",(v=o.QuestionnaireViewModeEnum||(o.QuestionnaireViewModeEnum={})).All="all",v.Answered="answered",v.Unanswered="unanswered";var w=function U(){},b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(w),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(w),S=function N(){},P=function Q(){},D=function(){function e(){this.fullName=""}return Object.defineProperty(e.prototype,"setFullName",{set:function(e){this.fullName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getFullName",{get:function(){return this.fullName},enumerable:!0,configurable:!0}),e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),_=function(){function e(e,t){this.httpClient=e,this.veritasApiProxyPrefixUrl=t,this.url=this.veritasApiProxyPrefixUrl+"/comment"}return e.prototype.getComments$=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=20);var r=(new a.HttpParams).append("page",(t+-1).toString()).append("size",n.toString());return this.httpClient.get(this.url+"/"+e,{params:r}).pipe(s.map(function(e){return e.content.forEach(function(e){e.isEditing=!1}),e}))},e.prototype.createComment$=function(e,t,n){var r={entityId:e,entityType:t,messageText:n};return this.httpClient.post(this.url+"/"+e,r)},e.prototype.updateComment$=function(e,t,n,r){var o={entityId:e,entityType:t,messageText:r,id:n};return this.httpClient.post(this.url+"/"+e+"/"+n,o)},e.prototype.deleteComment$=function(e,t){return this.httpClient["delete"](this.url+"/"+e+"/"+t)},e.prototype.getQuestionContainerViewPages=function(e){return this.httpClient.get("/api/question-survey/"+e).pipe(s.map(this.mapGetQuestionContainerViewPages))},e.prototype.getAttachmentDownloadUrl$=function(e){return this.httpClient.get(this.url+"/attachments/"+e+"/url")},e.prototype.mapGetQuestionContainerViewPages=function(e){return e},e.prototype.postQuestionDetailResponses=function(e,t,n){var r={answers:e,submitAction:t};return this.httpClient.post("/api/question-survey/"+n,r)},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a.HttpClient},{type:String,decorators:[{type:r.Inject,args:[E]}]}]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e(r.inject(a.HttpClient),r.inject("VERITAS_API_PROXY_PREFIX_URL"))},token:e,providedIn:"root"}),e}(),O=function(){function e(e,t){this.httpClient=e,this.veritasApiProxyPrefixUrl=t,this.url=this.veritasApiProxyPrefixUrl+"/question-survey"}return e.prototype.getQuestionContainerViewPages=function(e){return this.httpClient.get(this.url+"/"+e).pipe(s.map(this.mapGetQuestionContainerViewPages))},e.prototype.postAttachments$=function(e,t,n){var r=new FormData;return n.forEach(function(e){return r.append("attachmentFiles",e)}),this.httpClient.post(this.url+"/"+e+"/question/"+t+"/attachments",r,{reportProgress:!0,observe:"events"})},e.prototype.deleteAttachment$=function(e,t,n){return this.httpClient["delete"](this.url+"/"+e+"/question/"+t+"/attachments/"+n)},e.prototype.mapGetQuestionContainerViewPages=function(e){return e},e.prototype.postQuestionDetailResponses=function(e,t,n){var r={answers:e,submitAction:t};return this.httpClient.post("/api/question-survey/"+n,r)},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a.HttpClient},{type:String,decorators:[{type:r.Inject,args:[E]}]}]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e(r.inject(a.HttpClient),r.inject("VERITAS_API_PROXY_PREFIX_URL"))},token:e,providedIn:"root"}),e}(),x=function(){function e(){this.reviewMode=!1,this.viewMode=o.QuestionnaireViewModeEnum.All,this._viewModeSubject$=new n.Subject}return e.prototype.getReviewMode=function(){return this.reviewMode},e.prototype.setReviewMode=function(e){this.reviewMode=e},e.prototype.getViewMode=function(){return this.viewMode},e.prototype.changeViewMode=function(e){this.viewMode=e,this._viewModeSubject$.next(this.viewMode)},e.prototype.getViewModeObservable=function(){return this._viewModeSubject$.asObservable()},e.prototype.getQuestionAnswer=function(e){switch(e.questionDetailType){case o.QuestionTypeEnum.SingleSelect:var t=e.questionDetailResponses;if(t){var n=t.find(function(e){return e.questionDetailResponsesSelected});if(n)return n}break;case o.QuestionTypeEnum.Text:var r=e.questionDetailAnswerText;if(r)return r}return null},e.prototype.getConditionFulfilled=function(e,t){var n=t.questionDetailResponses.find(function(e){return e.questionDetailResponsesSelected});if(e.conditionDetails&&e.conditionDetails.conditionDetailConditions){for(var r=e.conditionDetails.conditionDetailConditions,o=0;o<r.length;o++){var i=r[o];if(!this.checkCondition(i,n))return!1}return!0}return!1},e.prototype.checkCondition=function(e,t){if(t&&e.expressionViewValueId&&t.questionDetailResponsesId===e.expressionViewValueId)return!0;return!1},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),A=function(){function e(){}return e.prototype.encodeKey=function(e){return encodeURIComponent(e)},e.prototype.encodeValue=function(e){return encodeURIComponent(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}(),j=function(){function e(e,t){this.httpClient=e,this.veritasApiProxyPrefixUrl=t,this.url=this.veritasApiProxyPrefixUrl+"/users",this.maxRows=10}return e.prototype.getUsers$=function(e,t){void 0===t&&(t=null);var n=new a.HttpParams({encoder:new A}).append("page",e.toString()).append("size",this.maxRows.toString());return t&&(n=n.append("search",t)),this.httpClient.get(this.url,{params:n})},e.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:a.HttpClient},{type:String,decorators:[{type:r.Inject,args:[E]}]}]},e.ngInjectableDef=r.defineInjectable({factory:function(){return new e(r.inject(a.HttpClient),r.inject("VERITAS_API_PROXY_PREFIX_URL"))},token:e,providedIn:"root"}),e}(),k=function(){function e(e){this.changeDetectorRef=e}return Object.defineProperty(e.prototype,"isChangeDetectorDestroyed",{get:function(){return this.changeDetectorRef.destroyed},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){this.isChangeDetectorDestroyed||this.changeDetectorRef.markForCheck()},e.prototype.detach=function(){this.isChangeDetectorDestroyed||this.changeDetectorRef.detach()},e.prototype.detectChanges=function(){this.isChangeDetectorDestroyed||this.changeDetectorRef.detectChanges()},e.prototype.checkNoChanges=function(){this.isChangeDetectorDestroyed||this.changeDetectorRef.checkNoChanges()},e.prototype.reattach=function(){this.isChangeDetectorDestroyed||this.changeDetectorRef.reattach()},e}();o.InitialIndicatorModule=R,o.InitialIndicatorComponent=C,o.PAGE_OFFSET_FOR_SERVER=-1,o.SEARCH_DEBOUNCE_TIME=300,o.VERITAS_API_PROXY_PREFIX_URL=E,o.CommentBase=w,o.Comment=b,o.CommentReply=T,o.Assignee=S,o.Attachment=P,o.AaaUserService=D,o.DashBoardCommentControllerService=_,o.DashBoardSurveyControllerService=O,o.QuestionnaireUtilsService=x,o.UserControllerService=j,o.ChangeDetectableComponentBase=k,o.CustomEncoder=A,o.stringContains=function q(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())},o.generateErrorMessage=function H(e,t){return t&&t.error&&t.error.message?e+" ("+t.error.message+")":e},o.onlyUnique=function L(t,e,n){return e===n.findIndex(function(e){return JSON.stringify(e)===JSON.stringify(t)})},o.nameOf=function(e){return e},o.flatMap=function F(e,t){var n;return(n=[]).concat.apply(n,function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}(e.map(function(e){return e[t]})))},o.getZoneOffset=function B(){for(var e=(new Date).getTimezoneOffset(),t=e<0,n=(e*(t?-1:1)).toString(),r=n.toString().length;r<4;r++)n="0"+n;return t?"-":"+"+n},o.getEnumKeys=function X(e){return Object.keys(e).filter(function(e){return isNaN(e)&&"values"!==e})},o.isPropertyChanged=l,o.omitDeep=function $(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=i.cloneDeep(e);return i.cloneDeepWith(r,function o(t){t&&"object"==typeof t&&n.forEach(function(e){delete t[e]})})},o.getProgress=function W(e,t){return Math.round(e/t*100)},Object.defineProperty(o,"__esModule",{value:!0})});
//# sourceMappingURL=veritas-library.umd.min.js.map